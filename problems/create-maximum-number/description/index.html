<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Maximum Number - LeetCodee Solution</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body class="bg-gray-100">
    <header class="bg-gray-800 text-white p-4">
        <div class="container mx-auto">
            <a href="/" class="text-xl font-bold">LeetCodee</a>
        </div>
    </header>

    <main class="container mx-auto p-4">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold mb-4">321. Create Maximum Number</h1>

            <div class="solution-nav mb-6">
                Jump to Solution:
                <a href="#python" class="ml-2 text-blue-600 hover:text-blue-800">Python</a>
                <a href="#java" class="ml-2 text-blue-600 hover:text-blue-800">Java</a>
                <a href="#cpp" class="ml-2 text-blue-600 hover:text-blue-800">C++</a>
                <a href="#javascript" class="ml-2 text-blue-600 hover:text-blue-800">JavaScript</a>
                <a href="#csharp" class="ml-2 text-blue-600 hover:text-blue-800">C#</a>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Problem Description</h2>
                <p class="text-gray-700 mb-4">
                    You are given two integer arrays <code class="bg-gray-100 px-1 rounded">nums1</code> and <code class="bg-gray-100 px-1 rounded">nums2</code> of lengths <code class="bg-gray-100 px-1 rounded">m</code> and <code class="bg-gray-100 px-1 rounded">n</code> respectively, and an integer <code class="bg-gray-100 px-1 rounded">k</code>. Create the maximum number of length <code class="bg-gray-100 px-1 rounded">k <= m + n</code> from digits of the two arrays.
                </p>
                <p class="text-gray-700 mb-4">
                    The relative order of the digits from the same array must be preserved.
                </p>
                <p class="text-gray-700 mb-4">
                    Return an array of the <code class="bg-gray-100 px-1 rounded">k</code> digits representing the answer.
                </p>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 1:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: nums1 = [3,4,6,5], nums2 = [9,1,2,5,8,3], k = 5
Output: [9,8,6,5,3]</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 2:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: nums1 = [6,7], nums2 = [6,0,4], k = 5
Output: [6,7,6,0,4]</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 3:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: nums1 = [3,9], nums2 = [8,9], k = 3
Output: [9,8,9]</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Constraints:</h2>
                <ul class="list-disc list-inside text-gray-700">
                    <li><code class="bg-gray-100 px-1 rounded">m == nums1.length</code></li>
                    <li><code class="bg-gray-100 px-1 rounded">n == nums2.length</code></li>
                    <li><code class="bg-gray-100 px-1 rounded">1 <= m, n <= 500</code></li>
                    <li><code class="bg-gray-100 px-1 rounded">0 <= nums1[i], nums2[i] <= 9</code></li>
                    <li><code class="bg-gray-100 px-1 rounded">1 <= k <= m + n</code></li>
                </ul>
            </div>
        </div>

        <!-- Solution Section -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold mb-4">Solution</h2>
            
            <!-- Python Solution -->
            <div id="python" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Python Solution</h3>
                <pre class="language-python"><code>class Solution:
    def maxNumber(self, nums1: List[int], nums2: List[int], k: int) -> List[int]:
        def maxArray(nums, k):
            stack = []
            drop = len(nums) - k
            for num in nums:
                while drop and stack and stack[-1] < num:
                    stack.pop()
                    drop -= 1
                stack.append(num)
            return stack[:k]

        def merge(A, B):
            ans = []
            while A or B:
                bigger = A if A > B else B
                ans.append(bigger[0])
                bigger.pop(0)
            return ans

        n1, n2 = len(nums1), len(nums2)
        max_result = []
        for i in range(k + 1):
            if i <= n1 and k - i <= n2:  # Valid partition
                candidate = merge(maxArray(nums1, i), maxArray(nums2, k - i))
                max_result = max(max_result, candidate)
        return max_result</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(k * (m + n))</h4>
                    <p class="text-gray-700">Where m and n are lengths of input arrays.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(k)</h4>
                    <p class="text-gray-700">For storing the result array.</p>
                </div>
            </div>

            <!-- Java Solution -->
            <div id="java" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Java Solution</h3>
                <pre class="language-java"><code>class Solution {
    public int[] maxNumber(int[] nums1, int[] nums2, int k) {
        int n1 = nums1.length, n2 = nums2.length;
        int[] maxResult = new int[k];
        for (int i = Math.max(0, k - n2); i <= Math.min(k, n1); i++) {
            int[] candidate = merge(
                maxArray(nums1, i),
                maxArray(nums2, k - i),
                k
            );
            if (greater(candidate, 0, maxResult, 0)) {
                maxResult = candidate;
            }
        }
        return maxResult;
    }
    
    private int[] maxArray(int[] nums, int k) {
        int[] stack = new int[k];
        int top = -1;
        int drop = nums.length - k;
        for (int num : nums) {
            while (drop > 0 && top >= 0 && stack[top] < num) {
                top--;
                drop--;
            }
            if (top < k - 1) {
                stack[++top] = num;
            } else {
                drop--;
            }
        }
        return stack;
    }
    
    private int[] merge(int[] nums1, int[] nums2, int k) {
        int[] result = new int[k];
        int i = 0, j = 0, r = 0;
        while (r < k) {
            result[r++] = greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];
        }
        return result;
    }
    
    private boolean greater(int[] nums1, int i, int[] nums2, int j) {
        while (i < nums1.length && j < nums2.length && nums1[i] == nums2[j]) {
            i++;
            j++;
        }
        return j == nums2.length || (i < nums1.length && nums1[i] > nums2[j]);
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(k * (m + n))</h4>
                    <p class="text-gray-700">Where m and n are lengths of input arrays.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(k)</h4>
                    <p class="text-gray-700">For storing the result array.</p>
                </div>
            </div>

            <!-- C++ Solution -->
            <div id="cpp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C++ Solution</h3>
                <pre class="language-cpp"><code>class Solution {
public:
    vector<int> maxNumber(vector<int>& nums1, vector<int>& nums2, int k) {
        int n1 = nums1.size(), n2 = nums2.size();
        vector<int> maxResult(k, 0);
        for (int i = max(0, k - n2); i <= min(k, n1); i++) {
            vector<int> candidate = merge(
                maxArray(nums1, i),
                maxArray(nums2, k - i),
                k
            );
            if (greater(candidate, 0, maxResult, 0)) {
                maxResult = candidate;
            }
        }
        return maxResult;
    }
    
private:
    vector<int> maxArray(vector<int>& nums, int k) {
        vector<int> stack(k);
        int top = -1;
        int drop = nums.size() - k;
        for (int num : nums) {
            while (drop > 0 && top >= 0 && stack[top] < num) {
                top--;
                drop--;
            }
            if (top < k - 1) {
                stack[++top] = num;
            } else {
                drop--;
            }
        }
        return stack;
    }
    
    vector<int> merge(vector<int>& nums1, vector<int>& nums2, int k) {
        vector<int> result(k);
        int i = 0, j = 0, r = 0;
        while (r < k) {
            result[r++] = greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];
        }
        return result;
    }
    
    bool greater(vector<int>& nums1, int i, vector<int>& nums2, int j) {
        while (i < nums1.size() && j < nums2.size() && nums1[i] == nums2[j]) {
            i++;
            j++;
        }
        return j == nums2.size() || (i < nums1.size() && nums1[i] > nums2[j]);
    }
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(k * (m + n))</h4>
                    <p class="text-gray-700">Where m and n are lengths of input arrays.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(k)</h4>
                    <p class="text-gray-700">For storing the result array.</p>
                </div>
            </div>

            <!-- JavaScript Solution -->
            <div id="javascript" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">JavaScript Solution</h3>
                <pre class="language-javascript"><code>/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @param {number} k
 * @return {number[]}
 */
var maxNumber = function(nums1, nums2, k) {
    const maxArray = (nums, k) => {
        const stack = [];
        const drop = nums.length - k;
        let dropCount = 0;
        
        for (const num of nums) {
            while (dropCount < drop && stack.length && stack[stack.length - 1] < num) {
                stack.pop();
                dropCount++;
            }
            stack.push(num);
        }
        
        return stack.slice(0, k);
    };
    
    const merge = (arr1, arr2) => {
        const result = [];
        while (arr1.length || arr2.length) {
            const bigger = arr1 > arr2 ? arr1 : arr2;
            result.push(bigger.shift());
        }
        return result;
    };
    
    let maxResult = [];
    const n1 = nums1.length, n2 = nums2.length;
    
    for (let i = 0; i <= k; i++) {
        if (i <= n1 && k - i <= n2) {
            const candidate = merge(maxArray(nums1, i), maxArray(nums2, k - i));
            if (candidate > maxResult) {
                maxResult = candidate;
            }
        }
    }
    
    return maxResult;
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(k * (m + n))</h4>
                    <p class="text-gray-700">Where m and n are lengths of input arrays.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(k)</h4>
                    <p class="text-gray-700">For storing the result array.</p>
                </div>
            </div>

            <!-- C# Solution -->
            <div id="csharp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C# Solution</h3>
                <pre class="language-csharp"><code>public class Solution {
    public int[] MaxNumber(int[] nums1, int[] nums2, int k) {
        int n1 = nums1.Length, n2 = nums2.Length;
        int[] maxResult = new int[k];
        for (int i = Math.Max(0, k - n2); i <= Math.Min(k, n1); i++) {
            int[] candidate = Merge(
                MaxArray(nums1, i),
                MaxArray(nums2, k - i),
                k
            );
            if (Greater(candidate, 0, maxResult, 0)) {
                maxResult = candidate;
            }
        }
        return maxResult;
    }
    
    private int[] MaxArray(int[] nums, int k) {
        int[] stack = new int[k];
        int top = -1;
        int drop = nums.Length - k;
        foreach (int num in nums) {
            while (drop > 0 && top >= 0 && stack[top] < num) {
                top--;
                drop--;
            }
            if (top < k - 1) {
                stack[++top] = num;
            } else {
                drop--;
            }
        }
        return stack;
    }
    
    private int[] Merge(int[] nums1, int[] nums2, int k) {
        int[] result = new int[k];
        int i = 0, j = 0, r = 0;
        while (r < k) {
            result[r++] = Greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];
        }
        return result;
    }
    
    private bool Greater(int[] nums1, int i, int[] nums2, int j) {
        while (i < nums1.Length && j < nums2.Length && nums1[i] == nums2[j]) {
            i++;
            j++;
        }
        return j == nums2.Length || (i < nums1.Length && nums1[i] > nums2[j]);
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(k * (m + n))</h4>
                    <p class="text-gray-700">Where m and n are lengths of input arrays.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(k)</h4>
                    <p class="text-gray-700">For storing the result array.</p>
                </div>
            </div>
        </div>

        <!-- Approach Explanation -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-4">Approach Explanation</h2>
            
            <div class="space-y-4">
                <p class="text-gray-700">
                    The solution uses a combination of greedy and divide-and-conquer approaches:
                </p>
                
                <ol class="list-decimal list-inside text-gray-700 ml-4">
                    <li>Key Insight:
                        <ul class="list-disc list-inside ml-8">
                            <li>Break into subproblems</li>
                            <li>Use monotonic stack</li>
                            <li>Merge sorted sequences</li>
                            <li>Compare subsequences</li>
                        </ul>
                    </li>
                    <li>Algorithm Steps:
                        <ul class="list-disc list-inside ml-8">
                            <li>Find max subsequences</li>
                            <li>Try all valid partitions</li>
                            <li>Merge subsequences</li>
                            <li>Track maximum result</li>
                        </ul>
                    </li>
                </ol>

                <p class="text-gray-700 mt-4">
                    Example walkthrough:
                    <ul class="list-disc list-inside ml-4">
                        <li>Find valid partitions</li>
                        <li>Extract max subsequences</li>
                        <li>Merge optimally</li>
                        <li>Compare results</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Optimization insights:
                    <ul class="list-disc list-inside ml-4">
                        <li>Early termination</li>
                        <li>Efficient comparison</li>
                        <li>Stack optimization</li>
                        <li>Memory reuse</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Edge Cases:
                    <ul class="list-disc list-inside ml-4">
                        <li>Empty arrays</li>
                        <li>Single elements</li>
                        <li>Equal elements</li>
                        <li>k equals total length</li>
                    </ul>
                </p>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white p-4 mt-8">
        <div class="container mx-auto text-center">
            <p>© 2024 LeetCodee. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html> 