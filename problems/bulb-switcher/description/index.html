<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulb Switcher - LeetCodee Solution</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body class="bg-gray-100">
    <header class="bg-gray-800 text-white p-4">
        <div class="container mx-auto">
            <a href="/" class="text-xl font-bold">LeetCodee</a>
        </div>
    </header>

    <main class="container mx-auto p-4">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold mb-4">319. Bulb Switcher</h1>

            <div class="solution-nav mb-6">
                Jump to Solution:
                <a href="#python" class="ml-2 text-blue-600 hover:text-blue-800">Python</a>
                <a href="#java" class="ml-2 text-blue-600 hover:text-blue-800">Java</a>
                <a href="#cpp" class="ml-2 text-blue-600 hover:text-blue-800">C++</a>
                <a href="#javascript" class="ml-2 text-blue-600 hover:text-blue-800">JavaScript</a>
                <a href="#csharp" class="ml-2 text-blue-600 hover:text-blue-800">C#</a>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Problem Description</h2>
                <p class="text-gray-700 mb-4">
                    There are <code class="bg-gray-100 px-1 rounded">n</code> bulbs that are initially off. You first turn on all the bulbs, then you turn off every second bulb.
                </p>
                <p class="text-gray-700 mb-4">
                    On the third round, you toggle every third bulb (turning on if it's off or turning off if it's on). For the <code class="bg-gray-100 px-1 rounded">i<sup>th</sup></code> round, you toggle every <code class="bg-gray-100 px-1 rounded">i</code> bulb. For the <code class="bg-gray-100 px-1 rounded">n<sup>th</sup></code> round, you only toggle the last bulb.
                </p>
                <p class="text-gray-700 mb-4">
                    Return the number of bulbs that are on after <code class="bg-gray-100 px-1 rounded">n</code> rounds.
                </p>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 1:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: n = 3
Output: 1
Explanation: At first all bulbs are off.
After first round, all bulbs are on.
After second round, second bulb is off.
After third round, first bulb is off, second bulb is off, third bulb is on.</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 2:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: n = 0
Output: 0</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Example 3:</h2>
                <pre class="bg-gray-100 p-4 rounded"><code>Input: n = 1
Output: 1</code></pre>
            </div>

            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Constraints:</h2>
                <ul class="list-disc list-inside text-gray-700">
                    <li><code class="bg-gray-100 px-1 rounded">0 <= n <= 10⁹</code></li>
                </ul>
            </div>
        </div>

        <!-- Solution Section -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold mb-4">Solution</h2>
            
            <!-- Python Solution -->
            <div id="python" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Python Solution</h3>
                <pre class="language-python"><code>class Solution:
    def bulbSwitch(self, n: int) -> int:
        # A bulb is on if it's toggled odd number of times
        # A bulb i is toggled by every factor of i
        # Only perfect squares have odd number of factors
        return int(sqrt(n))</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(1)</h4>
                    <p class="text-gray-700">Just calculating square root.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(1)</h4>
                    <p class="text-gray-700">Only using constant extra space.</p>
                </div>
            </div>

            <!-- Java Solution -->
            <div id="java" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">Java Solution</h3>
                <pre class="language-java"><code>class Solution {
    public int bulbSwitch(int n) {
        // A bulb is on if it's toggled odd number of times
        // A bulb i is toggled by every factor of i
        // Only perfect squares have odd number of factors
        return (int)Math.sqrt(n);
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(1)</h4>
                    <p class="text-gray-700">Just calculating square root.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(1)</h4>
                    <p class="text-gray-700">Only using constant extra space.</p>
                </div>
            </div>

            <!-- C++ Solution -->
            <div id="cpp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C++ Solution</h3>
                <pre class="language-cpp"><code>class Solution {
public:
    int bulbSwitch(int n) {
        // A bulb is on if it's toggled odd number of times
        // A bulb i is toggled by every factor of i
        // Only perfect squares have odd number of factors
        return (int)sqrt(n);
    }
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(1)</h4>
                    <p class="text-gray-700">Just calculating square root.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(1)</h4>
                    <p class="text-gray-700">Only using constant extra space.</p>
                </div>
            </div>

            <!-- JavaScript Solution -->
            <div id="javascript" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">JavaScript Solution</h3>
                <pre class="language-javascript"><code>/**
 * @param {number} n
 * @return {number}
 */
var bulbSwitch = function(n) {
    // A bulb is on if it's toggled odd number of times
    // A bulb i is toggled by every factor of i
    // Only perfect squares have odd number of factors
    return Math.floor(Math.sqrt(n));
};</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(1)</h4>
                    <p class="text-gray-700">Just calculating square root.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(1)</h4>
                    <p class="text-gray-700">Only using constant extra space.</p>
                </div>
            </div>

            <!-- C# Solution -->
            <div id="csharp" class="mb-8">
                <h3 class="text-xl font-semibold mb-4">C# Solution</h3>
                <pre class="language-csharp"><code>public class Solution {
    public int BulbSwitch(int n) {
        // A bulb is on if it's toggled odd number of times
        // A bulb i is toggled by every factor of i
        // Only perfect squares have odd number of factors
        return (int)Math.Sqrt(n);
    }
}</code></pre>
                
                <div class="mt-4">
                    <h4 class="text-lg font-semibold mb-2">Time Complexity: O(1)</h4>
                    <p class="text-gray-700">Just calculating square root.</p>
                    
                    <h4 class="text-lg font-semibold mb-2 mt-4">Space Complexity: O(1)</h4>
                    <p class="text-gray-700">Only using constant extra space.</p>
                </div>
            </div>
        </div>

        <!-- Approach Explanation -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-4">Approach Explanation</h2>
            
            <div class="space-y-4">
                <p class="text-gray-700">
                    The solution uses mathematical insight about factors:
                </p>
                
                <ol class="list-decimal list-inside text-gray-700 ml-4">
                    <li>Key Insight:
                        <ul class="list-disc list-inside ml-8">
                            <li>Bulb state depends on toggle count</li>
                            <li>Toggle count equals factor count</li>
                            <li>Perfect squares have odd factors</li>
                            <li>Other numbers have even factors</li>
                        </ul>
                    </li>
                    <li>Mathematical Proof:
                        <ul class="list-disc list-inside ml-8">
                            <li>Factors come in pairs (a,b)</li>
                            <li>Perfect squares have sqrt(n) as unpaired</li>
                            <li>Count of perfect squares ≤ n</li>
                            <li>Answer is floor(sqrt(n))</li>
                        </ul>
                    </li>
                </ol>

                <p class="text-gray-700 mt-4">
                    Example walkthrough:
                    <ul class="list-disc list-inside ml-4">
                        <li>n = 16: perfect squares are 1,4,9,16</li>
                        <li>Each has odd factors</li>
                        <li>Others have even factors</li>
                        <li>Answer is sqrt(16) = 4</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Optimization insights:
                    <ul class="list-disc list-inside ml-4">
                        <li>No need for simulation</li>
                        <li>Direct mathematical solution</li>
                        <li>Constant time complexity</li>
                        <li>No extra space needed</li>
                    </ul>
                </p>

                <p class="text-gray-700 mt-4">
                    Edge Cases:
                    <ul class="list-disc list-inside ml-4">
                        <li>n = 0</li>
                        <li>n = 1</li>
                        <li>Perfect squares</li>
                        <li>Large numbers</li>
                    </ul>
                </p>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white p-4 mt-8">
        <div class="container mx-auto text-center">
            <p>© 2024 LeetCodee. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html> 